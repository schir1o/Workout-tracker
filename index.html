<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Darios Gym</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,sans-serif;background:#f5f5f5;padding:10px}
        .container{max-width:400px;margin:0 auto}
        .card{background:#fff;border-radius:12px;padding:15px;margin-bottom:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
        input,select,textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px}
        button{background:#007AFF;color:#fff;border:none;padding:10px 15px;border-radius:8px;font-size:14px;cursor:pointer}
        .btn-sm{padding:6px 10px;font-size:12px}
        .btn-red{background:#FF3B30}
        .btn-green{background:#34C759}
        .btn-gray{background:#8E8E93}
        .flex{display:flex;gap:8px;align-items:center}
        .flex-between{justify-content:space-between}
        .set-row{display:flex;gap:5px;align-items:center;margin-bottom:8px;padding:8px;border:1px solid #eee;border-radius:6px}
        .set-num{width:20px;text-align:center;font-weight:600;color:#666}
        .check-btn{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center}
        .checked{background:#34C759;color:#fff}
        .unchecked{background:#eee;color:#999}
        .exercise-header{margin-bottom:10px}
        .exercise-name{font-weight:600;margin-bottom:4px}
        .exercise-info{font-size:12px;color:#666;background:#f0f0f0;padding:2px 6px;border-radius:4px;display:inline-block}
        .edit-mode{border:2px dashed #007AFF;background:#f8f9ff}
        .stats{text-align:center;color:#007AFF;font-weight:600}
        .rest{text-align:center;color:#666;font-size:16px}
        .motivation{background:#e8f5e8;color:#2d5016;text-align:center;padding:15px;border-radius:8px;font-weight:500}
        .hidden{display:none}
        h1{font-size:20px;color:#333}
        h2{font-size:16px;color:#007AFF}
        h3{font-size:14px;color:#333;margin-bottom:8px}
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="flex flex-between">
                <h1>üí™ Darios Gym</h1>
                <div class="stats" id="stats">0/0</div>
            </div>
            <br>
            <input type="date" id="date" value="">
            <br><br>
            <select id="day">
                <option value="Montag">Montag</option>
                <option value="Dienstag">Dienstag</option>
                <option value="Mittwoch">Mittwoch</option>
                <option value="Donnerstag">Donnerstag</option>
                <option value="Freitag">Freitag</option>
                <option value="Samstag">Samstag</option>
                <option value="Sonntag">Sonntag</option>
            </select>
        </div>

```
    <div class="card">
        <div class="flex flex-between">
            <h2 id="title">Training</h2>
            <button class="btn-sm" onclick="toggleEdit()" id="editBtn">‚úèÔ∏è</button>
        </div>
        <div id="restDay" class="rest hidden">üõå Ruhetag!</div>
        <div class="flex flex-between">
            <span id="exerciseCount"></span>
            <button class="btn-sm btn-red" onclick="resetWorkout()">üîÑ</button>
        </div>
    </div>

    <div id="exercises"></div>
    
    <div id="addExercise" class="card edit-mode hidden">
        <h3>Neue √úbung</h3>
        <input type="text" id="newName" placeholder="√úbungsname">
        <br><br>
        <div class="flex">
            <input type="number" id="newSets" value="3" min="1" style="width:80px">
            <input type="text" id="newReps" value="8-12" placeholder="Wiederholungen">
        </div>
        <br>
        <button onclick="addExercise()">‚ûï Hinzuf√ºgen</button>
    </div>

    <div class="card motivation">
        üí™ Keep going, Dario! Du schaffst das!
    </div>
</div>

<script>
    let editMode = false;
    let currentDay = 'Montag';
    let selectedDate = new Date().toISOString().split('T')[0];
    
    const defaultPlan = {
        'Montag': {title: 'Brust & Trizeps + Bauch + Cardio', exercises: [
            {name: 'Brustpresse', sets: 4, reps: '8-12'},
            {name: 'Butterfly (Brust)', sets: 4, reps: '10-12'},
            {name: 'Dips-Maschine', sets: 4, reps: '10-12'},
            {name: 'Trizepsstrecken', sets: 3, reps: '12-15'},
            {name: 'Bauchmaschine', sets: 4, reps: '15-20'},
            {name: 'Plank', sets: 3, reps: '30-60s'}
        ]},
        'Dienstag': {title: 'R√ºcken & Bizeps', exercises: [
            {name: 'Latzug breit', sets: 4, reps: '8-12'},
            {name: 'Rudermaschine', sets: 4, reps: '8-12'},
            {name: 'R√ºckenstrecker', sets: 3, reps: '12-15'},
            {name: 'Klimmzug-Maschine', sets: 3, reps: '6-10'},
            {name: 'Bizepscurls', sets: 4, reps: '10-12'}
        ]},
        'Mittwoch': {title: 'Beine + Bauch + Cardio', exercises: [
            {name: 'Beinpresse', sets: 4, reps: '10-12'},
            {name: 'Beinstrecker', sets: 4, reps: '10-12'},
            {name: 'Beinbeuger', sets: 4, reps: '10-12'},
            {name: 'Wadenheben', sets: 4, reps: '15-20'},
            {name: 'Bauchmaschine', sets: 4, reps: '15-20'}
        ]},
        'Donnerstag': {title: 'Brust/Schulter + Bauch', exercises: [
            {name: 'Brustpresse (eng)', sets: 4, reps: '8-12'},
            {name: 'Butterfly Reverse', sets: 4, reps: '10-12'},
            {name: 'Schulterpresse', sets: 4, reps: '8-12'},
            {name: 'Seitheben', sets: 3, reps: '12-15'},
            {name: 'Russian Twists', sets: 3, reps: '20'}
        ]},
        'Freitag': {title: 'R√ºcken & Bauch', exercises: [
            {name: 'Latzug eng', sets: 4, reps: '8-12'},
            {name: 'Rudermaschine breit', sets: 4, reps: '8-12'},
            {name: 'Facepulls', sets: 4, reps: '12-15'},
            {name: 'Shrugs', sets: 3, reps: '12-15'},
            {name: 'Bizepscurls', sets: 3, reps: '10-12'}
        ]},
        'Samstag': {title: 'Ganzk√∂rper + Cardio', exercises: [
            {name: 'Beinpresse', sets: 3, reps: '12'},
            {name: 'Brustpresse', sets: 3, reps: '12'},
            {name: 'Latzug', sets: 3, reps: '12'},
            {name: 'Schulterpresse', sets: 3, reps: '12'}
        ]},
        'Sonntag': {title: 'Ruhetag', exercises: [], rest: true}
    };

    let workoutPlan = {...defaultPlan};
    let workouts = {};

    // Load data
    try {
        workoutPlan = {...defaultPlan, ...JSON.parse(localStorage.getItem('workoutPlan') || '{}')};
        workouts = JSON.parse(localStorage.getItem('workouts') || '{}');
    } catch(e) {}

    // Save data
    function save() {
        try {
            localStorage.setItem('workoutPlan', JSON.stringify(workoutPlan));
            localStorage.setItem('workouts', JSON.stringify(workouts));
        } catch(e) {}
    }

    function getKey() {
        return `${selectedDate}-${currentDay}`;
    }

    function initWorkout() {
        const key = getKey();
        if (!workouts[key] && workoutPlan[currentDay] && !workoutPlan[currentDay].rest) {
            workouts[key] = {
                exercises: workoutPlan[currentDay].exercises.map(ex => ({
                    ...ex,
                    sets: Array(ex.sets).fill().map(() => ({weight: '', reps: '', done: false}))
                })),
                notes: ''
            };
            save();
        }
    }

    function render() {
        const plan = workoutPlan[currentDay];
        const workout = workouts[getKey()];
        
        document.getElementById('title').textContent = plan.title;
        document.getElementById('exerciseCount').textContent = `${plan.exercises.length} √úbungen`;
        
        if (plan.rest) {
            document.getElementById('restDay').classList.remove('hidden');
            document.getElementById('exercises').innerHTML = '';
            return;
        } else {
            document.getElementById('restDay').classList.add('hidden');
        }

        let completed = 0, total = 0;
        if (workout) {
            workout.exercises.forEach(ex => {
                ex.sets.forEach(set => {
                    total++;
                    if (set.done) completed++;
                });
            });
        }
        document.getElementById('stats').textContent = `${completed}/${total}`;

        let html = '';
        plan.exercises.forEach((ex, i) => {
            html += `
            <div class="card">
                <div class="exercise-header">
                    ${editMode ? `
                    <input type="text" value="${ex.name}" onchange="updateExercise(${i}, 'name', this.value)">
                    <div class="flex" style="margin-top:8px">
                        <input type="number" value="${ex.sets}" min="1" onchange="updateExercise(${i}, 'sets', +this.value)" style="width:60px">
                        <input type="text" value="${ex.reps}" onchange="updateExercise(${i}, 'reps', this.value)">
                        <button class="btn-red btn-sm" onclick="removeExercise(${i})">üóëÔ∏è</button>
                    </div>
                    ` : `
                    <div class="exercise-name">${ex.name}</div>
                    <span class="exercise-info">${ex.sets} S√§tze √ó ${ex.reps}</span>
                    `}
                </div>
                ${workout ? workout.exercises[i].sets.map((set, j) => `
                <div class="set-row">
                    <span class="set-num">${j+1}</span>
                    <input type="number" placeholder="kg" value="${set.weight}" onchange="updateSet(${i}, ${j}, 'weight', this.value)" style="flex:1">
                    <input type="number" placeholder="Wdh" value="${set.reps}" onchange="updateSet(${i}, ${j}, 'reps', this.value)" style="width:60px">
                    <button class="check-btn ${set.done ? 'checked' : 'unchecked'}" onclick="toggleSet(${i}, ${j})">‚úì</button>
                </div>
                `).join('') : ''}
            </div>`;
        });

        if (editMode) {
            html += `
            <div class="card edit-mode">
                <button onclick="showAddExercise()" style="width:100%">‚ûï √úbung hinzuf√ºgen</button>
            </div>`;
        }

        document.getElementById('exercises').innerHTML = html;
    }

    function updateSet(exIndex, setIndex, field, value) {
        const key = getKey();
        if (!workouts[key]) return;
        workouts[key].exercises[exIndex].sets[setIndex][field] = value;
        save();
        render();
    }

    function toggleSet(exIndex, setIndex) {
        const key = getKey();
        if (!workouts[key]) return;
        workouts[key].exercises[exIndex].sets[setIndex].done = !workouts[key].exercises[exIndex].sets[setIndex].done;
        save();
        render();
    }

    function updateExercise(index, field, value) {
        workoutPlan[currentDay].exercises[index][field] = value;
        if (field === 'sets') {
            const key = getKey();
            if (workouts[key]) {
                const sets = Array(value).fill().map(() => ({weight: '', reps: '', done: false}));
                workouts[key].exercises[index].sets = sets;
            }
        }
        save();
        render();
    }

    function removeExercise(index) {
        workoutPlan[currentDay].exercises.splice(index, 1);
        save();
        render();
    }

    function addExercise() {
        const name = document.getElementById('newName').value.trim();
        const sets = +document.getElementById('newSets').value || 3;
        const reps = document.getElementById('newReps').value || '8-12';
        
        if (name) {
            workoutPlan[currentDay].exercises.push({name, sets, reps});
            document.getElementById('newName').value = '';
            document.getElementById('newSets').value = '3';
            document.getElementById('newReps').value = '8-12';
            document.getElementById('addExercise').classList.add('hidden');
            save();
            render();
        }
    }

    function showAddExercise() {
        document.getElementById('addExercise').classList.remove('hidden');
    }

    function toggleEdit() {
        editMode = !editMode;
        document.getElementById('editBtn').textContent = editMode ? 'üíæ' : '‚úèÔ∏è';
        document.getElementById('addExercise').classList.add('hidden');
        render();
    }

    function resetWorkout() {
        const key = getKey();
        if (workouts[key]) {
            workouts[key].exercises.forEach(ex => {
                ex.sets.forEach(set => {
                    set.weight = '';
                    set.reps = '';
                    set.done = false;
                });
            });
            save();
            render();
        }
    }

    // Events
    document.getElementById('date').addEventListener('change', e => {
        selectedDate = e.target.value;
        initWorkout();
        render();
    });

    document.getElementById('day').addEventListener('change', e => {
        currentDay = e.target.value;
        initWorkout();
        render();
    });

    // Init
    document.getElementById('date').value = selectedDate;
    document.getElementById('day').value = currentDay;
    initWorkout();
    render();
</script>
```

</body>
</html>
